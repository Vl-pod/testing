(()=>{"use strict";const t=JSON.parse('[{"name":"Visa","validNaber":[4485657421444178,4539398970128724,4916230482068458000]},{"name":"Mastercard","validNaber":[5188818931877417,2720994540520557,2720994718931636]},{"name":"Diners","validNaber":[36709296481900,36106632835826,36716031538340]},{"name":"Jcb","validNaber":[3543341136367766,3537693124280098,3537054432305039000]},{"name":"Discover","validNaber":[6011215353526468,6011886504368933,6011388724053090000]},{"name":"Mir","validNaber":[2201382000000013]}]');class i{constructor(t){this.parentEl=t,this.onSubmit=this.onSubmit.bind(this),this.onDefinition=this.onDefinition.bind(this)}static get markup(){return'\n            <form class="container-card">\n                <div class="cards">\n                    <div class="card Diners"></div>\n                    <div class="card Discover"></div>\n                    <div class="card Jcb"></div>\n                    <div class="card Mastercard"></div>\n                    <div class="card Mir"></div>\n                    <div class="card Visa"></div>\n                </div>\n                <input type="text" class="input">\n                <button class="submit">Click to Validate</button>\n            </form>\n        '}static get submitSelector(){return".submit"}static get inputSelector(){return".input"}static get selector(){return".container-card"}static get cardtSelector(){return".card"}bindToDOM(){this.parentEl.innerHTML=i.markup,this.element=this.parentEl.querySelector(i.selector),this.submit=this.element.querySelector(i.submitSelector),this.input=this.element.querySelector(i.inputSelector),this.cards=[...this.parentEl.querySelectorAll(i.cardtSelector)],this.element.addEventListener("submit",this.onSubmit),this.element.addEventListener("input",this.onDefinition)}onDefinition(i){i.preventDefault();const{value:e}=this.input;this.cards.forEach((t=>t.classList.remove("active")));const s=function(t,i){const e=String(t).slice(0,4);for(let t=0;t<i.length;t++){const{validNaber:s}=i[t];if(s.some((t=>String(t).startsWith(e))))return i[t].name}return"Не валидный номер карты"}(Number(e),t),n=this.element.querySelector(`.${s}`);null!==n?n.classList.add("active"):this.cards.forEach((t=>t.classList.remove("active")))}onSubmit(t){t.preventDefault();const{value:i}=this.input;!function(t){let i=0;const e=String(t),s=e.length,n=s%2;for(let t=0;t<s;t++){let s=parseInt(e[t]);t%2===n&&(s*=2),s>9&&(s-=9),i+=s}return i%10==0}(i)?(this.input.classList.remove("valid"),this.input.classList.add("invalid")):(this.input.classList.remove("invalid"),this.input.classList.add("valid")),""===i&&this.input.classList.add("invalid")}}const e=document.querySelector(".container");new i(e).bindToDOM()})();
//# sourceMappingURL=main.js.map